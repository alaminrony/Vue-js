<!DOCTYPE html>
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
        <style>
            .content{
                padding-top: 10%;
            }
        </style>
    </head>
    <body>
        <div id="app" class="container">
            <div class="row">
                <div class="col-md-4 content col-md-offset-4">
                    <h3 class="text-center">Bazar List</h3>
                    <form @submit.prevent="addItem">
                        <input class="form-control" v-model="newItem">
                    </form>
                    <hr>
                    <ul class="list-group">
                        <li v-for="item in items" class="list-group-item">
                            {{item.name}} - <input v-model="item.price">
                        </li>
                        <li class="list-group-item" >Total : {{total}}</li>
                    </ul>
                </div>
            </div>
        </div>


        <script>
new Vue({
    el: '#app',
    data: {
        items: [
            {name: 'Rice', price: 200},
            {name: 'Wheat', price: 300},
            {name: 'Oil', price: 400},
        ],
        newItem: ''
    },
    computed: {
        total() {
//            let total = 0;
//            this.items.forEach(item => {
//                total+= parseFloat(item.price)
//            });
            const total =   this.items.reduce((total,item) => total+= parseFloat(item.price),0);
            return total
        }
    },
    methods: {
        addItem() {
            this.items.push({
                name: this.newItem,
                price: 0.00
            })
        }
    }
})
        </script>
    </body>
</html>
